input = """|.|.||..#|......#|..||#|#..|..|.|#.#....|....|....
..#..|.#|.#|.#.......|#.|...#|..|....|#||#..|...||
.#...|#.|#...#|..#..|.#|.....#.|....|...||......|.
.|.|..|.|......#...#||#..||.......##.....|#.|.##|#
#..#|...|...#||.#.|#.||#.....#...#|#..|..##.|||.|.
..........##.|.|.|....|..|#.||#.##||.#.#..|..|....
..##...#|#...|#...#.#.#...|#........|.#..#.|.#.|.#
.|...|..#...|........|###...|...|.#.#.#..###....|.
.##......|#...|..##.|.|||..##..|..#..||.#|||.....#
...|....#..###.|.#........#.|#......#..|.|..|.#...
...##.|.......#.#.|..|.|.........|#.#..|....#|#..|
.#...#...#.||..|.#|#||.|#.#.#....||....#..#...####
#..#.#|##.#.#..|.....#...##.|.|..#..||.|...#....#|
.|##....|..||........#..#.|.|.......#.|......|#.#.
..|....|.#|#....#...........|#...##....#...|.|###.
#..##||||##..|||.#...|#|..#|#||.##..||.##......||.
....|#|........#|##.|#|...#...|...##|.|.###|..#...
.||.##.....#.#..#...|.|.#.###.|.#....###|...#...|.
##...|.|#.#...##.......|..|..##....#...|.|...#...#
#.##|.#..#|..|.||.|...|.#.#|.....#.##........||.#.
...|....|#...|......#..|.|..|....|......||.##|.|.|
..|.|#..#...#..#..##||..|....#.#...|..............
#.#.#.|#..|...#|.|#.|...#.|.#|...#...|......#..|||
#.|..|...##|..|.|.|...|..|........#.###|.#......||
#........||.|.|#..##|.#...||.##...#......|..|.#.#.
....|....#.##.|#.#...#...#.|....#....|#...|....|..
.|.#..#..|.#...|..||..||...|..|.......#.|#....||..
..#..##||...|#|||...|#...|.#.#.|..#.|#.|....#.##.|
.||.##..#....#...#..|#.||..#|.|.||..|.|.|....|.#.#
#..||#.||...#.|..#..||.....#.#.......||...........
..||..#|..###|||..||.#|#||....||...#..||....#||..|
..#..#...##...#...|#||#.#..|.|......|.##..#...#...
#..|#.#...|.#..###.|...#...#.|.#####....#....#.|..
........|..#|....|...|....|.#....#.#...#.|.|...#.|
|.....|#.|#....|....|....|.#.#..|..#....|...#.....
...#.#.##..#.###|##.##....||.#|.#...##.......#....
.|.|......|##.|#.#.##.....|.||.|.....|.#..........
.#.|....#.#|#.#.....||..|.#..||.#.##.#||#|.#|..#..
.....|..#..||.|..|#.|#...#.|....#..#|......#.|#|#.
#.#|..#.......#..##.|#.....|.....#..##....#.......
.|....|..|..|#..#...|..|##....|.||#.|#|.|.|.|.#|##
.#.#....#||..###..|..|..|....#|..|.|....#|#.|....|
........#..#..##..#...|#...............#...##.....
#.....#|#.....#..|..##..||....|......###..#####...
.|##.|.|.|..#...#.||.##..##...||||...|.||...#..|..
..#.##.|.#|....##|..#||..#.|.|#...#.||.#....|.#.||
..#.|...#|.|.#|#.|.|#.#..#||..|.#|.#...#|.....||.|
..|........|....#.#...||........|.|......|...|...#
##||.#..#.........|.|#.|.|...|.....#..#|.#.|....|#
.#.#..||....|..|#....##|#|.#..#....#.#..#.....||.."""

input = """.#.#...|#.
.....#|##|
.|..|...#.
..|#.....#
#.#|||#|#|
...#.||...
.|....|...
||...#|.#|
|.||||..|.
...#.|..|."""

def prepareInput():
    splitInput = input.split('\n')

    l = []
    for line in splitInput:
        l.append([x for x in line])
    
    return l

def getNeighbours(x,y,m):

    dic = {'|' : 0, '#' : 0, '.' : 0}

    for j in range(y-1, y+2):
        if j < 0 or j > len(m) - 1:
                continue
        for i in range(x-1, x+2):
            if i < 0 or i > len(m[j]) - 1:
                continue
            dic[m[j][i]] += 1
    
    return dic
        
def copyList(list):
    new = []
    for line in list:
        new.append(line.copy())
    
    return new

def do():
    l = prepareInput()

    old = l
    for i in range(10):
        new = copyList(old)
        for y in range(len(old)):
            for x in range(len(old[y])):
                value = old[y][x]
                neighbours = getNeighbours(x,y,old)
                if value == '.':
                    if neighbours['|'] > 2:
                        new[y][x] = '|'
                    else:
                        new[y][x] = '.'
                elif value == '|':
                    if neighbours['#'] > 2:
                        new[y][x] = '#'
                    else:
                        new[y][x] = '|'
                elif value == '#':
                    if neighbours['#'] > 0 and neighbours['|'] > 0:
                        new[y][x] = '#'
                    else:
                        new[y][x] = '.'
        
    return new


result = do()

resultSumTrees = 0
resultSumLumber = 0
for line in result:
    resultSumTrees += sum([1 for x in line if x == '|'])
    resultSumLumber += sum([1 for x in line if x == '#'])

print(resultSumTrees * resultSumLumber)




    
